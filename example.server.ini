# NOTE: uWSGI doesn't natively support ASGI applications like FastAPI
# Use Gunicorn with uvicorn workers instead: gunicorn -c example.gunicorn.conf.py api.main:app
# Or use uvicorn directly: uvicorn api.main:app --host 0.0.0.0 --port 8000 --workers 4

[uwsgi]
# Alternative: Run uvicorn via uWSGI exec (not recommended for production)
exec-as-root = uvicorn api.main:app --host 0.0.0.0 --port 8000 --workers 4

# Working directory
chdir = /home/ubuntu/docserver

# Process management
master = true
vacuum = true
die-on-term = true

# Logging
logto = /var/log/uwsgi/classifier_extractor.log
log-date = true

# Environment variables
env = POSTGRES_USER=user
env = POSTGRES_PASSWORD=password
env = POSTGRES_HOST=localhost
env = POSTGRES_PORT=5432
env = POSTGRES_DB=database
env = ALLOWED_ORIGINS=*
env = DEBUG=false

# Security (commented out for exec mode)
# uid = www-data
# gid = www-data